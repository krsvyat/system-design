# ADR-001: Формат ADR для архитектурных решений

## Статус

Принято

## Контекст

Нужен единый способ документировать архитектурные решения. Решения без документации легко забываются или отменяются без понимания изначальных причин.

Требования:

- Лёгкий формат, живёт в репозитории
- Просто писать и читать
- Фиксирует "почему", а не только "что"
- Отслеживает жизненный цикл (Предложено → Принято → Заменено)

## Решение

Используем Architecture Decision Records (ADR) в формате [Michael Nygard](https://www.cognitect.com/blog/2011/11/15/documenting-architecture-decisions).

### Формат

Каждый ADR — markdown файл со структурой:

| Секция          | Назначение                                                 |
| --------------- | ---------------------------------------------------------- |
| **Заголовок**   | `ADR-XXX: Краткое описание решения`                        |
| **Статус**      | `Предложено` / `Принято` / `Устарело` / `Заменено ADR-XXX` |
| **Контекст**    | В чём проблема? Какие силы влияют? Почему нужно решение?   |
| **Решение**     | Что решили? Конкретно.                                     |
| **Последствия** | Результаты — положительные и отрицательные.                |

### Именование файлов

```
adr/
├── 001-adr-format.md
├── 002-auth-service.md
├── 003-choreography-over-orchestration.md
└── ...
```

Формат: `XXX-<short-name>.md`, где XXX — порядковый номер.

### Правила

- Одно решение на ADR
- Максимум 1-2 страницы
- Пишем для разработчика, который не знает контекст
- Номера не переиспользуются
- Старые решения помечаем как заменённые, не удаляем

## Последствия

**Положительные:**

- Решения задокументированы и легко искать
- Новые члены команды понимают исторический контекст
- Не обсуждаем заново уже принятые решения

**Отрицательные:**

- Накладные расходы на написание ADR
- Риск устаревания если не поддерживать
