@startuml erd-callback
hide circle

entity "callbacks" {
  * id : uuid <<PK>>
  --
  * provider_txn_id : text <<UNIQUE>>
  * status : text
  * raw_payload : jsonb
  * received_at : timestamptz
  --
  <<CHECK>> status IN ('SUCCESS', 'FAILED')
}

entity "callback_outbox" {
  * id : uuid <<PK>>
  --
  * provider_txn_id : text
  * event_type : text
  * payload : jsonb
  * created_at : timestamptz
  * published_at : timestamptz
}

@enduml
