# Глоссарий

## Единый язык (Ubiquitous Language)

Единый словарь терминов для всех bounded contexts.

| Концепт                  | Термин (EN)  | Термин (RU)  | НЕ используем                 |
| ------------------------ | ------------ | ------------ | ----------------------------- |
| Клиент банка             | Customer     | Клиент       | Client, User                  |
| Хранилище денег клиента  | Wallet       | Кошелёк      | Account, Balance Account      |
| Временная блокировка     | Reserve      | Резервация   | Hold, Block, Authorization    |
| Финальное списание       | Commit       | Коммит       | Capture, Debit, Charge        |
| Отмена резервации        | Release      | Релиз        | Rollback, Unblock             |
| Доступные деньги         | Balance      | Баланс       | Amount, Funds                 |
| Внешний получатель       | Merchant     | Мерчант      | Seller, Vendor, Shop          |
| Сообщение клиенту        | Notification | Уведомление  | Alert, Message                |
| Единица платежа          | Payment      | Платёж       | Transaction, Transfer         |

Применяется в коде, диаграммах, документации и коммуникации.

---

## Базовые понятия

**Клиент (Customer)** — физическое или юридическое лицо, пользующееся услугами банка.

**Мерчант** — внешний контрагент (интернет-магазин, сервис), принимающий платежи через банк.

**Счёт / Кошелёк (Wallet)** — учётная единица для хранения денежных средств клиента.

**Баланс** — текущая сумма средств на счёте.

**Резервирование (Reserve)** — временная блокировка части баланса. Уменьшает доступную сумму, но средства ещё не списаны окончательно.

---

## Клиентские каналы

**Мобильный банк** — приложение для смартфонов, через которое клиенты управляют счетами и совершают платежи.

**Веб-банк** — браузерный интерфейс интернет-банкинга с аналогичным функционалом.

---

## Внешние интеграции

**Платёжный провайдер** — внешняя система для проведения платежей определённого типа.

**Карточный процессинг** — инфраструктура для обработки операций по банковским картам (Visa, Mastercard, МИР).

**НСПК** — Национальная система платёжных карт. Оператор платёжной системы МИР и СБП.

**СБП (Система быстрых платежей)** — российская платёжная система для мгновенных переводов между банками по номеру телефона или QR-коду. Оператор — НСПК.

---

## Домены системы

### Core Banking (Ядро банка)

**Core Banking System** — центральная система бухгалтерского учёта банка. Legacy-система, изменения вносятся с особой осторожностью.

**Бухгалтерский учёт** — ведение проводок, учёт всех финансовых операций по счетам.

### Wallets (Кошельки)

Домен управления кошельками клиентов. Хранит информацию о балансах и резервированиях. Взаимодействует с Core Banking для отражения операций в бухучёте.

### Anti-Fraud / Scoring

**Anti-Fraud** — система противодействия мошенничеству. Анализирует операции в реальном времени.

**Онлайн-проверка** — синхронная проверка операции в момент её совершения (до подтверждения).

**Скоринг риска** — оценка уровня риска операции на основе правил и ML-моделей. Результат: пропустить, запросить верификацию или отклонить.

### Payments (Платежи)

**Платёж** — операция перевода денежных средств от клиента к мерчанту или другому клиенту.

**Жизненный цикл платежа:**
1. **Создание (Created)** — клиент инициирует платёж
2. **Проверка (Anti-Fraud)** — система оценивает риск операции
3. **Резервирование (Reserve)** — блокировка средств в кошельке в домене Wallet
4. **Коммит (Commit)** — фактическое списание после подтверждения
5. **Финальный статус** — Success или Failed

### Callbacks (Уведомления от провайдеров)

**Callback** — асинхронное HTTP-уведомление от внешнего провайдера (Visa, MC, СБП) о результате платежа.

Примеры: платёж успешен, платёж отклонён, недостаточно средств.

### Notifications (Уведомления клиентам)

**SMS-уведомление** — текстовое сообщение клиенту о событии.

**Push-уведомление** — сообщение в мобильный банк.

**Email-уведомление** — письмо на электронную почту клиента.

### Merchant Callbacks (Уведомления мерчантам)

**Merchant Callback** — исходящее HTTP-уведомление мерчанту о статусе платежа.

Отправляется при изменении статуса платежа (PaymentCompleted, PaymentFailed). Включает retry при неудачной доставке.
